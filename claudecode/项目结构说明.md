# 崂山冒险游戏项目结构说明

## 项目概述

这是一个基于控制台的回合制RPG冒险游戏，玩家扮演勇者探索崂山地图，与各种怪物战斗，收集技能和道具，最终挑战强大的龙王BOSS。

## 核心文件结构

```text
崂山冒险游戏/
├── main.cpp                # 程序入口点
├── Game.h                  # 游戏主控制器
├── Player.h                # 玩家类定义
├── Map.h                   # 地图系统
├── Room.h                  # 房间类
├── Enemy.h                 # 敌人类及工厂
├── Battle.h                # 战斗系统
├── Skill.h / Skill.cpp     # 技能系统
├── Item.h / Item.cpp       # 道具系统
├── SaveGame.h              # 存档系统
├── Colors.h / Colors.cpp   # 控制台颜色输出
├── AsciiMap.h              # ASCII艺术地图渲染
├── AudioManager.h / AudioManager.cpp  # 音频系统
├── SoundEffects.h          # 音效定义
├── miniaudio.h             # 第三方音频库
└── map_demo.cpp            # 地图演示程序
```

## 各模块详细说明

### 1. 游戏主控制器 (Game.h)
- **功能**: 游戏的总控制器，管理游戏循环、输入处理、游戏状态等
- **主要职责**:
  - 初始化游戏
  - 处理用户输入
  - 管理游戏状态（运行中、胜利、失败）
  - 显示游戏界面
  - 处理房间进入事件
  - 商店系统交互

### 2. 玩家系统 (Player.h)
- **功能**: 玩家角色的定义和管理
- **主要职责**:
  - 管理玩家属性（生命值、攻击力、防御力、等级等）
  - 管理技能背包
  - 管理道具背包
  - 经验值和升级系统
  - 金币管理
  - 状态显示

### 3. 地图系统 (Map.h, Room.h)
- **功能**: 游戏世界的地图和房间管理
- **主要职责**:
  - 生成8x3的随机地图
  - 管理房间类型（起始点、怪物房、商店、休息房、BOSS房）
  - 玩家位置跟踪
  - 房间访问状态管理
  - ASCII艺术地图渲染 (AsciiMap.h)

### 4. 敌人系统 (Enemy.h)
- **功能**: 游戏中敌人的定义和管理
- **主要职责**:
  - 定义多种敌人类型（史莱姆、哥布林、骷髅兵、兽人、龙王）
  - 敌人AI行为
  - 掉落物系统
  - 敌人工厂模式创建

### 5. 战斗系统 (Battle.h)
- **功能**: 回合制战斗机制
- **主要职责**:
  - 玩家与敌人的回合制战斗
  - 技能使用
  - 道具使用
  - 逃跑机制
  - 战斗奖励计算

### 6. 技能系统 (Skill.h, Skill.cpp)
- **功能**: 玩家和敌人的技能管理
- **主要职责**:
  - 定义多种技能类型（致死打击、生命吸取、复仇等）
  - 技能稀有度系统（普通到传说）
  - 技能效果实现
  - 技能工厂模式创建

### 7. 道具系统 (Item.h, Item.cpp)
- **功能**: 游戏中的道具管理
- **主要职责**:
  - 定义多种道具类型（治疗药水、能量凝胶、烤鸡等）
  - 道具效果实现
  - 道具工厂模式创建
  - Buff/Debuff系统（如兴奋剂效果）

### 8. 存档系统 (SaveGame.h)
- **功能**: 游戏进度的保存和加载
- **主要职责**:
  - 保存玩家状态
  - 保存地图状态
  - 读取存档文件
  - 删除存档

### 9. 视觉系统 (Colors.h, Colors.cpp)
- **功能**: 控制台彩色输出
- **主要职责**:
  - 跨平台颜色支持（Windows和Linux/Mac）
  - 各种颜色输出函数
  - 标题和分隔符美化

### 10. 音频系统 (AudioManager.h, AudioManager.cpp, SoundEffects.h)
- **功能**: 游戏音频播放
- **主要职责**:
  - 背景音乐播放
  - 音效播放
  - 音量控制
  - 使用miniaudio库实现

## 游戏流程

1. **启动游戏**: 显示主菜单，选择新游戏或继续游戏
2. **创建角色**: 输入角色名称，初始化玩家属性
3. **探索地图**: 使用WASD移动，探索不同类型的房间
4. **房间事件**:
   - 怪物房：进入战斗
   - 商店房：购买技能和道具
   - 休息房：恢复生命值
   - BOSS房：挑战最终BOSS
5. **战斗系统**: 回合制战斗，可使用普通攻击、技能、道具或逃跑
6. **升级成长**: 通过击败敌人获得经验值和金币，升级提升属性
7. **存档系统**: 可随时保存游戏进度
8. **游戏目标**: 击败足够数量的怪物后挑战并击败龙王BOSS

## 技术特点

- **面向对象设计**: 使用C++类和继承实现模块化设计
- **工厂模式**: 技能和道具使用工厂模式创建
- **存档系统**: 文本文件格式保存游戏进度
- **跨平台**: 支持Windows和Linux/Mac系统
- **色彩输出**: 丰富的控制台颜色效果
- **音频支持**: 背景音乐和音效播放
- **ASCII艺术**: 精美的地图和界面显示