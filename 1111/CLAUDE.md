# æ¸¸æˆè®¾è®¡æ–‡æ¡£ï¼šç»ˆç«¯å›åˆåˆ¶RPG - å®ç°ç‰ˆæœ¬

## æ¸¸æˆåç§°

é‡è¿”å´‚å±±!

## æ ¸å¿ƒç©æ³• âœ… å·²å®ç°

- ç©å®¶ä¸æ•Œäººè¿›è¡Œå›åˆåˆ¶æˆ˜æ–—
- ç©å®¶åœ¨è‡ªå·±çš„å›åˆå¯ä»¥é€‰æ‹©ï¼š
  - **æ™®é€šæ”»å‡»**: å¯¹æ•Œäººé€ æˆåŸºç¡€ä¼¤å®³ï¼Œ10%æš´å‡»å‡ ç‡
  - **æŠ€èƒ½æ”»å‡»**: ä½¿ç”¨ä¸€æ¬¡æ€§æŠ€èƒ½ï¼Œé€ æˆæ›´é«˜ä¼¤å®³æˆ–æ²»ç–—æ•ˆæœ
  - **é“å…·ä½¿ç”¨**: ä½¿ç”¨è¡€ç“¶ã€ç‚¸å¼¹ç­‰æˆ˜æ–—é“å…·
  - **é€ƒè·‘**: 70%æˆåŠŸç‡é€ƒç¦»æˆ˜æ–—
- æˆ˜æ–—æ¨¡å¼ç±»ä¼¼äºã€Šå®å¯æ¢¦ã€‹çš„å›åˆåˆ¶ç³»ç»Ÿ

## æ¸¸æˆç›®æ ‡ âœ… å·²å®ç°

- æ¢ç´¢ASCIIè‰ºæœ¯é£æ ¼çš„3x7åœ°å›¾
- å‡»è´¥15åªæ™®é€šæ•Œæ€ªè·å¾—è¶³å¤Ÿå®åŠ›
- æŒ‘æˆ˜å¹¶å‡»è´¥å¼ºå¤§çš„å´‚å±±é¾™ç‹BOSSå–å¾—æœ€ç»ˆèƒœåˆ©

## ä¸»è¦ç‰¹æ€§ âœ… å·²å®ç°

### ğŸ’€ æ•Œäººç³»ç»Ÿ
- å¤šç§æ•Œäººç±»å‹ï¼šå²è±å§†ã€å“¥å¸ƒæ—ã€éª·é«…å…µã€å…½äººã€é¾™ç‹BOSS
- å‡»è´¥æ•Œäººè·å¾—ç»éªŒå€¼ã€é‡‘å¸å’ŒæŠ€èƒ½å¥–åŠ±
- æ¯ä¸ªæ•Œäººæœ‰ç‹¬ç‰¹çš„AIè¡Œä¸ºæ¨¡å¼

### ğŸ—ºï¸ åœ°å›¾ç³»ç»Ÿ
- **ASCIIè‰ºæœ¯åœ°å›¾**: ç²¾ç¾çš„å­—ç¬¦è‰ºæœ¯åœ°å›¾æ˜¾ç¤º
- **æˆ¿é—´ç±»å‹**:
  - **èµ·å§‹æˆ¿** (/â–²\): å®‰å…¨çš„å‡ºå‘ç‚¹
  - **æ€ªç‰©æˆ¿** (/â™ \): é­é‡æ•Œäººè§¦å‘æˆ˜æ–—ï¼Œæ¸…ç†åæ˜¾ç¤ºâ•³â•³â•³
  - **å•†åº—æˆ¿** (â”Œ$â”): è´­ä¹°æŠ€èƒ½å’Œé“å…·
  - **ä¼‘æ¯æˆ¿** (â˜¾): ä¸€æ¬¡æ€§å®Œå…¨æ¢å¤ç”Ÿå‘½å€¼
  - **BOSSæˆ¿** (â˜ ): æœ€ç»ˆæŒ‘æˆ˜é¾™ç‹
- **è¿·é›¾ç³»ç»Ÿ**: æœªè®¿é—®æˆ¿é—´æ˜¾ç¤ºä¸ºâ–‘?â–‘ï¼Œå¢åŠ æ¢ç´¢ä¹è¶£

### âš”ï¸ æŠ€èƒ½ç³»ç»Ÿ 
- **ä¸€æ¬¡æ€§ä½¿ç”¨**: æ‰€æœ‰æŠ€èƒ½ä½¿ç”¨åæ¶ˆå¤±ï¼Œå¢åŠ ç­–ç•¥æ€§
- **æ— MPæ¶ˆè€—**: ç®€åŒ–äº†èµ„æºç®¡ç†
- ç©å®¶æœ€å¤šå¯æŒæœ‰10ä¸ªæŠ€èƒ½
- **åˆå§‹æŠ€èƒ½**: å¼€å±€è·å¾—3ä¸ªéšæœºæŠ€èƒ½
- **è·å¾—é€”å¾„**: æˆ˜æ–—å¥–åŠ±ã€å•†åº—è´­ä¹°

### ğŸ’ é“å…·ç³»ç»Ÿ
- **å°è¡€ç“¶**: æ¢å¤30HPï¼Œä»·æ ¼20é‡‘å¸
- **ç‚¸å¼¹**: æˆ˜æ–—ä¸­å¯¹æ•Œäººé€ æˆ50ç‚¹ç›´æ¥ä¼¤å®³ï¼Œä»·æ ¼80é‡‘å¸  
- **é“å…·èƒŒåŒ…**: æœ€å¤šæºå¸¦8ä¸ªé“å…·
- æ”¯æŒæˆ˜æ–—ä¸­å’Œéæˆ˜æ–—çŠ¶æ€ä¸‹ä½¿ç”¨

### ğŸ’° ç»æµç³»ç»Ÿ
- å‡»è´¥æ•Œäººè·å¾—é‡‘å¸å¥–åŠ±
- å•†åº—è´­ä¹°æŠ€èƒ½å’Œé“å…·
- èµ·å§‹é‡‘å¸ï¼š100

### ğŸ“ˆ å‡çº§ç³»ç»Ÿ
- é€šè¿‡æˆ˜æ–—è·å¾—ç»éªŒå€¼
- æ¯çº§æ‰€éœ€ç»éªŒå€¼: level Ã— 100
- å‡çº§å±æ€§æå‡: HP+20, æ”»å‡»+3, é˜²å¾¡+2

## è¯¦ç»†æ¸¸æˆè®¾è®¡ - å½“å‰å®ç°

### è§’è‰²å±æ€§ç³»ç»Ÿ âœ… å·²å®ç°
- **ç©å®¶åˆå§‹å±æ€§**:
  - ç”Ÿå‘½å€¼: 100 HP
  - æ”»å‡»åŠ›: 15
  - é˜²å¾¡åŠ›: 5
  - ~~è“é‡: 50 MP~~ (å·²ç§»é™¤)
  - ç»éªŒå€¼: 0 EXP
  - ç­‰çº§: 1
  - é‡‘å¸: 100

- **å‡çº§ç³»ç»Ÿ**:
  - æ¯çº§æ‰€éœ€ç»éªŒå€¼: level Ã— 100
  - å‡çº§æ—¶å±æ€§æå‡: HP+20, æ”»å‡»+3, é˜²å¾¡+2
  - ~~MP+10~~ (å·²ç§»é™¤MPç³»ç»Ÿ)

### æ•Œäººè®¾è®¡ âœ… å·²å®ç°
- **å²è±å§†** (æ™®é€š): HP=30, æ”»å‡»=8, é˜²å¾¡=2, ç»éªŒ=25, é‡‘å¸=15
- **å“¥å¸ƒæ—** (æ™®é€š): HP=45, æ”»å‡»=12, é˜²å¾¡=3, ç»éªŒ=35, é‡‘å¸=25  
- **éª·é«…å…µ** (æ™®é€š): HP=55, æ”»å‡»=15, é˜²å¾¡=5, ç»éªŒ=45, é‡‘å¸=30
- **å…½äºº** (ç²¾è‹±): HP=80, æ”»å‡»=20, é˜²å¾¡=8, ç»éªŒ=70, é‡‘å¸=50
- **å´‚å±±é¾™ç‹** (BOSS): HP=300, æ”»å‡»=35, é˜²å¾¡=15, ç»éªŒ=200, é‡‘å¸=200

### æŠ€èƒ½ç³»ç»Ÿè®¾è®¡ âœ… å·²å®ç°
#### æ”»å‡»æŠ€èƒ½:
- **ç«çƒæœ¯**: ä¼¤å®³=æ”»å‡»åŠ›Ã—1.5 ~~æ¶ˆè€—MP=15~~ (æ— æ¶ˆè€—)
- **å†°é”¥**: ä¼¤å®³=æ”»å‡»åŠ›Ã—1.3 ~~æ¶ˆè€—MP=12~~ (æ— æ¶ˆè€—)  
- **é›·å‡»**: ä¼¤å®³=æ”»å‡»åŠ›Ã—1.8 ~~æ¶ˆè€—MP=20~~ (æ— æ¶ˆè€—)
- **å‰‘æ°”æ–©**: ä¼¤å®³=æ”»å‡»åŠ›Ã—2.0 ~~æ¶ˆè€—MP=25~~ (æ— æ¶ˆè€—)

#### æ²»ç–—æŠ€èƒ½:
- **æ²»ç–—æœ¯**: æ¢å¤HP=50 ~~æ¶ˆè€—MP=20~~ (æ— æ¶ˆè€—)
- **å¤§æ²»ç–—æœ¯**: æ¢å¤HP=100 (æ— æ¶ˆè€—)

### åœ°å›¾è®¾è®¡ âœ… å·²å®ç°  
- **æ€»æˆ¿é—´æ•°**: 21ä¸ªæˆ¿é—´ (3Ã—7ç½‘æ ¼å¸ƒå±€)
- **ASCIIè‰ºæœ¯æ˜¾ç¤º**: æ¯ä¸ªæˆ¿é—´éƒ½æœ‰ç‹¬ç‰¹çš„è§†è§‰ç¬¦å·
- **æˆ¿é—´åˆ†å¸ƒ**:
  - èµ·å§‹æˆ¿: 1ä¸ª (å·¦ä¸Šè§’)
  - æ€ªç‰©æˆ¿: ~15ä¸ª (éšæœºåˆ†å¸ƒ)
  - å•†åº—æˆ¿: 3ä¸ª (éšæœºåˆ†å¸ƒ) 
  - ä¼‘æ¯æˆ¿: 1ä¸ª (éšæœºåˆ†å¸ƒ)
  - BOSSæˆ¿: 1ä¸ª (å³ä¸‹è§’)
- **ç§»åŠ¨ç³»ç»Ÿ**: W/A/S/Då››æ–¹å‘ç§»åŠ¨ï¼Œè¾¹ç•Œæ£€æµ‹

### æˆ˜æ–—ç³»ç»Ÿ âœ… å·²å®ç°
- **ä¼¤å®³è®¡ç®—**: æœ€ç»ˆä¼¤å®³ = max(1, æ”»å‡»åŠ› - é˜²å¾¡åŠ›)
- **æš´å‡»ç³»ç»Ÿ**: 10%å‡ ç‡é€ æˆ1.5å€ä¼¤å®³
- **å›åˆé¡ºåº**: ç©å®¶å…ˆæ‰‹è¡ŒåŠ¨
- **æˆ˜æ–—é€‰é¡¹**: æ™®é€šæ”»å‡»ã€æŠ€èƒ½ã€é“å…·ã€é€ƒè·‘
- **é€ƒè·‘æœºåˆ¶**: 70%æˆåŠŸç‡ï¼Œå¤±è´¥ç»§ç»­æˆ˜æ–—
- **èƒœåˆ©æ¡ä»¶**: æ•ŒäººHPé™ä¸º0
- **å¤±è´¥æ¡ä»¶**: ç©å®¶HPé™ä¸º0

### å•†åº—ç³»ç»Ÿ âœ… å·²å®ç°
- **éšæœºæŠ€èƒ½**: 100é‡‘å¸è´­ä¹°éšæœºæŠ€èƒ½
- **å°è¡€ç“¶**: æ¢å¤30HPï¼Œä»·æ ¼20é‡‘å¸
- **ç‚¸å¼¹**: æˆ˜æ–—é“å…·ï¼Œé€ æˆ80ç‚¹ä¼¤å®³ï¼Œä»·æ ¼80é‡‘å¸
- èƒŒåŒ…å®¹é‡æ£€æŸ¥å’Œé‡‘å¸éªŒè¯

### ç•Œé¢ç³»ç»Ÿ âœ… å·²å®ç°

#### å›ºå®šç•Œé¢å¸ƒå±€:
- **é¡¶éƒ¨**: ç©å®¶çŠ¶æ€ä¿¡æ¯ (ç”Ÿå‘½å€¼æ¡ã€ç­‰çº§ã€ç»éªŒã€é‡‘å¸)
- **ä¸­éƒ¨**: ASCIIè‰ºæœ¯åœ°å›¾ (å¸¦å›¾ä¾‹å’ŒçŠ¶æ€ä¿¡æ¯)
- **åº•éƒ¨**: æ“ä½œæ§åˆ¶è¯´æ˜

#### è¾“å…¥æ§åˆ¶:
**åœ°å›¾æ¢ç´¢**:
- W/A/S/D: å››æ–¹å‘ç§»åŠ¨
- M: æ˜¾ç¤ºåœ°å›¾
- P: æ˜¾ç¤ºç©å®¶çŠ¶æ€  
- I: æŸ¥çœ‹æŠ€èƒ½èƒŒåŒ…
- B: æŸ¥çœ‹é“å…·èƒŒåŒ…
- H: å¸®åŠ©è¯´æ˜
- C: æ¸…å±åˆ·æ–°
- Q: é€€å‡ºæ¸¸æˆèœå•
- X: æ‰‹åŠ¨ä¿å­˜æ¸¸æˆ

**æˆ˜æ–—ç•Œé¢**:
- 1: æ™®é€šæ”»å‡»
- 2: ä½¿ç”¨æŠ€èƒ½ (è¿›å…¥æŠ€èƒ½é€‰æ‹©èœå•)
- 3: ä½¿ç”¨é“å…· (è¿›å…¥é“å…·é€‰æ‹©èœå•) 
- 4: å°è¯•é€ƒè·‘

### å­˜æ¡£ç³»ç»Ÿ âœ… å·²å®ç°
- **è‡ªåŠ¨ä¿å­˜**: æ¸¸æˆè¿›åº¦è‡ªåŠ¨ä¿å­˜
- **æ‰‹åŠ¨ä¿å­˜**: æŒ‰Xé”®æ‰‹åŠ¨ä¿å­˜
- **æ–­ç‚¹ç»§ç»­**: æ”¯æŒä»å­˜æ¡£ç‚¹ç»§ç»­æ¸¸æˆ
- **å­˜æ¡£ç®¡ç†**: ä¸»èœå•æä¾›å­˜æ¡£åˆ é™¤é€‰é¡¹

### ä¸­æ–‡æ”¯æŒ âœ… å·²å®ç°  
- **UTF-8ç¼–ç **: å®Œæ•´æ”¯æŒä¸­æ–‡æ˜¾ç¤º
- **ä¸­æ–‡è¾“å…¥**: æ”¯æŒä¸­æ–‡è§’è‰²å§“åè¾“å…¥
- **æ§åˆ¶å°è®¾ç½®**: è‡ªåŠ¨é…ç½®Windowsæ§åˆ¶å°ç¼–ç 

## æŠ€æœ¯å®ç°

### ç¼–è¯‘ç¯å¢ƒ
- **ç¼–è¯‘å™¨**: MinGW-w64 g++ 13.2.0
- **C++æ ‡å‡†**: C++17
- **é™æ€é“¾æ¥**: æ— éœ€é¢å¤–DLLæ–‡ä»¶
- **ç¼–è¯‘è¾“å‡º**: game_latest.exe

### æ ¸å¿ƒç±»è®¾è®¡ - å®é™…å®ç°

#### 1. Character (è§’è‰²åŸºç±») âœ…
```cpp
class Character {
protected:
    int hp, maxHP, attack, defense, level;
    string name;
public:
    virtual void takeDamage(int damage);
    virtual int dealDamage() const;
    virtual bool isAlive() const;
    virtual void displayStats() const = 0;
};
```

#### 2. Player (ç©å®¶ç±») âœ…  
```cpp
class Player : public Character {
private:
    int exp, gold;
    vector<Skill*> skills;      // æŠ€èƒ½åˆ—è¡¨ï¼Œä½¿ç”¨ååˆ é™¤
    vector<Item*> inventory;    // é“å…·èƒŒåŒ…  
    static const int MAX_SKILLS = 10;
    static const int MAX_ITEMS = 8;
public:
    void gainExp(int amount);
    void levelUp();
    bool addSkill(Skill* skill);
    bool useSkill(int index, Character& target);  // ä¸€æ¬¡æ€§ä½¿ç”¨
    bool addItem(Item* item);
    bool useItem(int index);
    bool useItemInBattle(int index, Character& enemy);
    void displayStats() const override;
    void displaySkillBag() const;
    void displayInventory() const;
    void restoreToFullHP();
};
```

#### 3. Battle (æˆ˜æ–—ç±») âœ…
```cpp  
class Battle {
private:
    Player* player;
    Enemy* enemy;
    bool battleEnded;
    bool playerWon;
    bool playerEscaped;  // åŒºåˆ†é€ƒè·‘å’Œæ­»äº¡
    vector<DropItem> battleRewards;
public:
    bool startBattle();
    bool handleAttack();
    bool handleSkillUse();
    bool handleItemUse(); 
    bool handleEscape();
    void handleVictory();
    void handleDefeat();
    bool didPlayerEscape() const;
};
```

#### 4. AsciiMapRenderer (åœ°å›¾æ¸²æŸ“) âœ…
```cpp
class AsciiMapRenderer {
public:
    static void displayAsciiMap(Room* const rooms[HEIGHT][WIDTH], 
                               int playerX, int playerY, int monstersDefeated);
private:
    static void generateRoomAscii(RoomAscii& ascii, Room* room, bool hasPlayer);
    static void generateStartRoom(RoomAscii& ascii, bool hasPlayer);
    static void generateMonsterRoom(RoomAscii& ascii, bool hasPlayer, bool cleared);
    static void generateShopRoom(RoomAscii& ascii, bool hasPlayer);
    static void generateEmptyRoom(RoomAscii& ascii, bool hasPlayer);
    static void generateBossRoom(RoomAscii& ascii, bool hasPlayer);
};
```

#### 5. Game (æ¸¸æˆä¸»æ§åˆ¶) âœ…
```cpp
class Game {
private:
    Player* player;
    Map* gameMap; 
    bool gameRunning;
    bool gameWon;
public:
    void run();
    void gameLoop();
    void displayGameInterface();  // å›ºå®šå¸ƒå±€ç•Œé¢
    void handleMovement(char direction);
    void handleRoomEntry();
    void handleShop();
    void showStartMenu();
    bool startNewGame();
    bool loadGame();
};
```

### è®¾è®¡æ¨¡å¼åº”ç”¨ âœ…
- **å·¥å‚æ¨¡å¼**: SkillFactory, EnemyFactory, ItemFactory åˆ›å»ºæ¸¸æˆå¯¹è±¡
- **å•ä¾‹æ¨¡å¼**: Colors é¢œè‰²ç®¡ç†ç±»
- **ç­–ç•¥æ¨¡å¼**: ä¸åŒæˆ¿é—´ç±»å‹çš„å¤„ç†ç­–ç•¥
- **çŠ¶æ€æ¨¡å¼**: æ¸¸æˆçŠ¶æ€ç®¡ç† (èœå•ã€æ¸¸æˆä¸­ã€æˆ˜æ–—ç­‰)

## æ¸¸æˆç‰¹è‰²

### ğŸ¨ è§†è§‰è®¾è®¡
- **ASCIIè‰ºæœ¯é£æ ¼**: å¤å¤ç»ˆç«¯ç¾å­¦
- **å½©è‰²ç•Œé¢**: ä½¿ç”¨ANSIé¢œè‰²codeså¢å¼ºè§†è§‰æ•ˆæœ
- **æ¸…æ™°å¸ƒå±€**: å›ºå®šä¸‰æ®µå¼ç•Œé¢å¸ƒå±€
- **åŠ¨æ€æ›´æ–°**: å®æ—¶åˆ·æ–°åœ°å›¾å’ŒçŠ¶æ€ä¿¡æ¯

### ğŸ® æ¸¸æˆä½“éªŒ  
- **å³æ—¶è¾“å…¥**: getch()å®ç°æ— éœ€å›è½¦çš„å¿«é€Ÿæ“ä½œ
- **ç­–ç•¥æ·±åº¦**: ä¸€æ¬¡æ€§æŠ€èƒ½ç³»ç»Ÿè¦æ±‚åˆç†è§„åˆ’èµ„æº
- **æ¢ç´¢ä¹è¶£**: è¿·é›¾ç³»ç»Ÿå’Œéšæœºåœ°å›¾å¸ƒå±€
- **æˆå°±æ„Ÿ**: æ¸…æ™°çš„è¿›åº¦æŒ‡ç¤ºå’Œå¥–åŠ±åé¦ˆ

### ğŸ”§ æŠ€æœ¯ç‰¹è‰²
- **è·¨å¹³å°å…¼å®¹**: æ”¯æŒWindows/Linuxæ§åˆ¶å°
- **å†…å­˜å®‰å…¨**: RAIIå’Œæ™ºèƒ½æŒ‡é’ˆæ¨¡å¼
- **æ¨¡å—åŒ–è®¾è®¡**: é«˜å†…èšä½è€¦åˆçš„ç±»ç»“æ„
- **æ‰©å±•æ€§å¼º**: å·¥å‚æ¨¡å¼ä¾¿äºæ·»åŠ æ–°å†…å®¹

## å¹³è¡¡æ€§åˆ†æ - å®æµ‹æ•°æ®

### æˆ˜æ–—éš¾åº¦æ›²çº¿ âœ…
- **å‰æœŸ** (1-5åªæ€ª): å²è±å§†ä¸ºä¸»ï¼Œå»ºç«‹ä¿¡å¿ƒ
- **ä¸­æœŸ** (6-10åªæ€ª): å“¥å¸ƒæ—ã€éª·é«…å…µæ··åˆï¼Œéœ€è¦æŠ€èƒ½é…åˆ  
- **åæœŸ** (11-15åªæ€ª): ç²¾è‹±å…½äººå‡ºç°ï¼Œè€ƒéªŒç­–ç•¥è¿ç”¨
- **BOSSæˆ˜**: é¾™ç‹è¶…é«˜è¡€é‡ï¼Œéœ€è¦å……åˆ†å‡†å¤‡å’ŒæŠ€èƒ½å‚¨å¤‡

### ç»æµå¹³è¡¡ âœ…  
- å‡»è´¥15åªæ™®é€šæ•Œäººå¹³å‡è·å¾—: ~400é‡‘å¸
- å•†åº—æ ¸å¿ƒç‰©å“æˆæœ¬: æŠ€èƒ½100+è¡€ç“¶60+ç‚¸å¼¹80 = 240é‡‘å¸
- æœ‰ä½™é‡è´­ä¹°å¤šä¸ªé“å…·ï¼Œä½†éœ€è¦åšé€‰æ‹©

### æŠ€èƒ½è·å–ç­–ç•¥ âœ…
- å¼€å±€3æŠ€èƒ½ + æˆ˜æ–—æ‰è½ + å•†åº—è´­ä¹° = çº¦8-12ä¸ªæŠ€èƒ½è·å¾—æœºä¼š
- 10ä¸ªæŠ€èƒ½ä¸Šé™è¿«ä½¿ä¼˜åŒ–æŠ€èƒ½ç»„åˆ
- ä¸€æ¬¡æ€§ä½¿ç”¨å¢åŠ æ¯æ¬¡æˆ˜æ–—çš„å†³ç­–æ·±åº¦

## éƒ¨ç½²è¯´æ˜

### ç¼–è¯‘æ–¹æ³•
```bash  
g++ -std=c++17 -Wall -Wextra -O2 -static-libgcc -static-libstdc++ -o game_latest.exe main.cpp Colors.cpp Item.cpp
```

### è¿è¡Œè¦æ±‚
- Windows 10+ æˆ– Linux ç³»ç»Ÿ
- æ”¯æŒUTF-8çš„æ§åˆ¶å°ç¯å¢ƒ  
- çº¦1MBç£ç›˜ç©ºé—´

### æ–‡ä»¶ç»“æ„
```
claudecode/
â”œâ”€â”€ game_latest.exe     # ä¸»ç¨‹åº
â”œâ”€â”€ compile.bat         # ç¼–è¯‘è„šæœ¬
â”œâ”€â”€ game_save.txt       # å­˜æ¡£æ–‡ä»¶(è‡ªåŠ¨ç”Ÿæˆ)
â”œâ”€â”€ main.cpp           # ç¨‹åºå…¥å£
â”œâ”€â”€ Colors.cpp         # é¢œè‰²ç³»ç»Ÿå®ç°
â”œâ”€â”€ Item.cpp           # é“å…·ç³»ç»Ÿå®ç°  
â””â”€â”€ å„ç§.hå¤´æ–‡ä»¶       # ç±»å®šä¹‰
```

---

**ğŸ® ã€Šé‡è¿”å´‚å±±ã€‹- ä¸€ä¸ªå®Œæ•´å®ç°çš„ç»ˆç«¯RPGæ¸¸æˆ**

*ç‰¹è‰²: ASCIIè‰ºæœ¯ | å›åˆåˆ¶æˆ˜æ–— | ç­–ç•¥æŠ€èƒ½ | ä¸­æ–‡æ”¯æŒ*

## è¯¦ç»†ç±»è®¾è®¡ (V2)

### æ ¸å¿ƒç±»ç»“æ„

#### 1. Character (è§’è‰²åŸºç±»)
```cpp
class Character {
protected:
    int hp, maxHP, attack, defense, level;
    string name;
public:
    virtual void takeDamage(int damage);
    virtual int dealDamage() const;
    virtual bool isAlive() const;
    // çº¯è™šå‡½æ•°ï¼Œå­ç±»å¿…é¡»å®ç°
    virtual void displayStats() const = 0;
};
```

#### 2. Player (ç©å®¶ç±»)
```cpp
class Player : public Character {
private:
    int mp, maxMP, exp, gold;
    vector<Skill*> skills;      // æŠ€èƒ½åˆ—è¡¨
    vector<Item*> inventory;    // é“å…·èƒŒåŒ…
    int skillCount = 0;         // å½“å‰æŠ€èƒ½æ•°é‡
    
public:
    void gainExp(int amount);
    void levelUp();
    bool addSkill(Skill* skill);  // è¿”å›æ˜¯å¦æˆåŠŸæ·»åŠ 
    bool useSkill(int index, Character& target);
    void useItem(int index);
    void displayStats() const override;
    void displaySkills() const;
    void displayInventory() const;
};
```

#### 3. Enemy (æ•Œäººç±»)
```cpp
class Enemy : public Character {
private:
    int expReward, goldReward;
    string enemyType;           // "slime", "goblin", "skeleton", "orc", "boss"
    Skill* dropSkill;           // å¯èƒ½æ‰è½çš„æŠ€èƒ½
    
public:
    Enemy(string type);         // æ„é€ å‡½æ•°æ ¹æ®ç±»å‹åˆå§‹åŒ–å±æ€§
    void displayStats() const override;
    int getExpReward() const { return expReward; }
    int getGoldReward() const { return goldReward; }
    Skill* getDropSkill() const { return dropSkill; }
    string getType() const { return enemyType; }
};
```

#### 4. Skill (æŠ€èƒ½ç±»)
```cpp
class Skill {
private:
    string name;
    int damage;        // ä¼¤å®³å€ç‡ (ä¾‹å¦‚150è¡¨ç¤º1.5å€æ”»å‡»åŠ›)
    int mpCost;        // è“é‡æ¶ˆè€—
    string effect;     // ç‰¹æ®Šæ•ˆæœ ("none", "freeze", "heal", "buff_atk", "buff_def")
    int effectValue;   // æ•ˆæœæ•°å€¼
    
public:
    Skill(string n, int dmg, int cost, string eff = "none", int val = 0);
    int calculateDamage(int userAttack) const;
    bool canUse(int currentMP) const;
    void applyEffect(Character& target) const;
    string getName() const { return name; }
    int getMPCost() const { return mpCost; }
    void displayInfo() const;
};
```

#### 5. Item (é“å…·ç±»)
```cpp
class Item {
private:
    string name;
    string type;        // "heal", "mana", "buff"
    int value;          // æ¢å¤é‡æˆ–æ•ˆæœå€¼
    int price;          // å•†åº—ä»·æ ¼
    
public:
    Item(string n, string t, int v, int p);
    void use(Player& player) const;
    string getName() const { return name; }
    int getPrice() const { return price; }
    void displayInfo() const;
};
```

#### 6. Room (æˆ¿é—´ç±»)
```cpp
enum class RoomType { MONSTER, SHOP, EMPTY, BOSS };

class Room {
private:
    RoomType type;
    bool visited;
    bool cleared;               // æ˜¯å¦å·²æ¸…ç†å®Œæ¯•
    Enemy* monster;             // æˆ¿é—´å†…çš„æ€ªç‰© (å¦‚æœæ˜¯æ€ªç‰©æˆ¿)
    vector<Item*> shopItems;    // å•†åº—ç‰©å“ (å¦‚æœæ˜¯å•†åº—æˆ¿)
    vector<Skill*> shopSkills;  // å•†åº—æŠ€èƒ½
    
public:
    Room(RoomType t);
    ~Room();
    void enter(Player& player); // è¿›å…¥æˆ¿é—´è§¦å‘çš„äº‹ä»¶
    RoomType getType() const { return type; }
    bool isCleared() const { return cleared; }
    void displayRoomInfo() const;
};
```

#### 7. Map (åœ°å›¾ç±»)
```cpp
class Map {
private:
    static const int WIDTH = 7;
    static const int HEIGHT = 3;
    Room* rooms[HEIGHT][WIDTH];
    int playerX, playerY;       // ç©å®¶å½“å‰ä½ç½®
    int monstersDefeated;       // å·²å‡»è´¥çš„æ€ªç‰©æ•°é‡
    
public:
    Map();
    ~Map();
    void generateMap();         // éšæœºç”Ÿæˆåœ°å›¾å¸ƒå±€
    bool movePlayer(char direction); // w,a,s,dç§»åŠ¨
    void displayMap() const;    // æ˜¾ç¤ºåœ°å›¾æ¦‚è§ˆ
    Room* getCurrentRoom();
    bool canMove(char direction) const;
    int getMonstersDefeated() const { return monstersDefeated; }
    void incrementMonstersDefeated() { monstersDefeated++; }
};
```

#### 8. Battle (æˆ˜æ–—ç±»)
```cpp
class Battle {
private:
    Player* player;
    Enemy* enemy;
    bool playerTurn;
    
public:
    Battle(Player* p, Enemy* e);
    void startBattle();
    void playerAction();        // å¤„ç†ç©å®¶å›åˆ
    void enemyAction();         // å¤„ç†æ•Œäººå›åˆ
    bool isBattleOver() const;
    bool playerWon() const;
    void displayBattleStatus() const;
    int calculateDamage(int attack, int defense) const;
};
```

#### 9. Game (æ¸¸æˆä¸»æ§åˆ¶ç±»)
```cpp
class Game {
private:
    Player* player;
    Map* gameMap;
    bool gameRunning;
    bool gameWon;
    
    // UIç›¸å…³æ–¹æ³•
    void displayMainMenu();
    void displayPlayerInfo() const;
    char getPlayerInput();
    void clearScreen();
    void waitForInput();
    
    // æ¸¸æˆé€»è¾‘æ–¹æ³•
    void initializeGame();
    void gameLoop();
    void handleMovement();
    void handleRoomEntry();
    void checkWinCondition();
    
public:
    Game();
    ~Game();
    void run();                 // æ¸¸æˆä¸»å…¥å£
    void endGame(bool won);
};
```

### ç±»å…³ç³»è¯´æ˜
- **ç»§æ‰¿å…³ç³»**: Player, Enemy ç»§æ‰¿è‡ª Character
- **ç»„åˆå…³ç³»**: Game åŒ…å« Player å’Œ Map; Player åŒ…å« Skill å’Œ Item åˆ—è¡¨
- **ä¾èµ–å…³ç³»**: Battle ä¾èµ– Player å’Œ Enemy; Room ä¾èµ– Enemy, Item, Skill
- **èšåˆå…³ç³»**: Map åŒ…å« Room æ•°ç»„

### è®¾è®¡æ¨¡å¼åº”ç”¨
- **å·¥å‚æ¨¡å¼**: Enemyæ„é€ å‡½æ•°æ ¹æ®ç±»å‹åˆ›å»ºä¸åŒå±æ€§çš„æ•Œäºº
- **ç­–ç•¥æ¨¡å¼**: Skillç±»çš„ä¸åŒæ•ˆæœç±»å‹
- **çŠ¶æ€æ¨¡å¼**: Gameç±»çš„ä¸åŒæ¸¸æˆçŠ¶æ€å¤„ç†

## åˆæ­¥çš„ç±»è®¾è®¡ (V1)

- **`Character` (è§’è‰²åŸºç±»)**: å­˜æ”¾ç©å®¶å’Œæ•Œäººå…±æœ‰çš„å±æ€§ï¼ˆå¦‚ç”Ÿå‘½å€¼ã€æ”»å‡»åŠ›ã€é˜²å¾¡åŠ›ï¼‰ã€‚è¿™æ˜¯ä¸€ä¸ªæŠ½è±¡çš„"ç”Ÿç‰©"æ¦‚å¿µã€‚
- **`Player` (ç©å®¶ç±»)**: ç»§æ‰¿è‡ª `Character`ï¼ŒåŒ…å«ç©å®¶ç‰¹æœ‰çš„å±æ€§ï¼ˆå¦‚æŠ€èƒ½åˆ—è¡¨ã€ç»éªŒå€¼ã€è“é‡ï¼‰ã€‚
- **`Enemy` (æ•Œäººç±»)**: ç»§æ‰¿è‡ª `Character`ï¼ŒåŒ…å«æ•Œäººç‰¹æœ‰çš„å±æ€§ï¼ˆå¦‚æ€ªç‰©ç§ç±»ã€æ‰è½ç‰©ï¼‰ã€‚
- **`Skill` (æŠ€èƒ½ç±»)**: æè¿°ä¸€ä¸ªæŠ€èƒ½çš„å±æ€§ï¼ˆå¦‚åç§°ã€ä¼¤å®³å€¼ã€æ‰€éœ€è“é‡ï¼‰ã€‚
- **`Room` (æˆ¿é—´ç±»)**: æè¿°ä¸€ä¸ªæˆ¿é—´çš„ç±»å‹ï¼ˆæ€ªç‰©æˆ¿/æŠ€èƒ½æˆ¿ï¼‰å’Œå†…å®¹ï¼ˆé‡Œé¢æœ‰ä»€ä¹ˆæ•Œäººæˆ–æŠ€èƒ½ï¼‰ã€‚
- **`Map` (åœ°å›¾ç±»)**: ç®¡ç†æ‰€æœ‰çš„ `Room` å¯¹è±¡ä»¥åŠç©å®¶åœ¨åœ°å›¾ä¸Šçš„ä½ç½®ã€‚
- **`Game` (æ¸¸æˆä¸»ç±»)**: è´Ÿè´£æ•´ä¸ªæ¸¸æˆçš„ä¸»å¾ªç¯ã€å¤„ç†ç©å®¶è¾“å…¥ã€æ§åˆ¶æˆ˜æ–—æµç¨‹å’Œåˆ¤æ–­æ¸¸æˆèƒœè´Ÿã€‚è¿™ä¸ªç±»æ˜¯æ•´ä¸ªæ¸¸æˆçš„â€œå¤§è„‘â€ã€‚

## äº¤äº’ä¸ç•Œé¢è¦æ±‚ (UI/UX)

- **çŠ¶æ€æ˜¾ç¤º**: ç©å®¶ä¿¡æ¯å±…å·¦ï¼Œæ•Œäººä¿¡æ¯å±…å³ï¼Œåœ¨ä¸€è¡Œå†…å¹¶æ’æ˜¾ç¤ºï¼Œç•Œé¢æ¸…æ™°ã€‚

- **å³æ—¶è¾“å…¥**: ç©å®¶é€šè¿‡æŒ‰é”®ç›´æ¥é€‰æ‹©æ“ä½œï¼Œæ— éœ€æŒ‰å›è½¦ç¡®è®¤ï¼Œæå‡æ“ä½œæ„Ÿã€‚

- **å›åˆåˆ¶èŠ‚å¥**: æ¯ä¸ªå®Œæ•´å›åˆç»“æŸåï¼Œæ¸¸æˆæš‚åœå¹¶æ˜¾ç¤ºåˆ†å‰²çº¿ï¼Œç­‰å¾…ç©å®¶æŒ‰ä»»æ„é”®åç»§ç»­ï¼Œé¿å…ä¿¡æ¯æ»šåŠ¨è¿‡å¿«ã€‚

- é¡¹ç›®è¦æ±‚ï¼š

  ![img](./claude.assets/wps1.jpg) 

- æ¸¸æˆæ‰©å±•æ€§éœ€æ±‚

  - å¯è‡ªå®šä¹‰æ·»åŠ æŠ€èƒ½ - ä½ å¸Œæœ›ä»¥åèƒ½è½»æ¾æ·»åŠ æ›´å¤šæŠ€èƒ½
  - å¯è‡ªå®šä¹‰æ·»åŠ æ•Œäºº - ä½ å¸Œæœ›èƒ½æ·»åŠ æ–°çš„æ•Œäººç±»å‹
  - å¯è‡ªå®šä¹‰æ•Œäººæ‰è½ - ä½ å¸Œæœ›èƒ½è‡ªå®šä¹‰æ•Œäººçˆ†ä»€ä¹ˆä¸œè¥¿

  ğŸ¨ ç•Œé¢ä½“éªŒéœ€æ±‚

  - æ›´é•¿çš„åˆ†å‰²çº¿ - è®©ç•Œé¢å±‚æ¬¡æ›´æ¸…æ™°
  - å‡å°‘è§†è§‰æ··ä¹± - é¿å…ä¿¡æ¯è¿‡å¤šé€ æˆçœ¼èŠ±ç¼­ä¹±
  - å½©è‰²ç•Œé¢è®¾è®¡ - ç”¨é¢œè‰²è®©ç•Œé¢æ›´ç¾è§‚æ¸…æ™°
  - è‡ªåŠ¨åˆ·æ–°åœ°å›¾ - æˆ˜æ–—åè‡ªåŠ¨æ˜¾ç¤ºæ›´æ–°çš„åœ°å›¾ï¼Œä¸ç”¨å¾€ä¸Šç¿»æ‰¾

  ğŸ”§ è®¾è®¡åŸåˆ™

  åŸºäºä½ çš„éœ€æ±‚ï¼Œæˆ‘åœ¨ä»£ç è®¾è®¡ä¸­ç¡®ä¿äº†ï¼š
  1. æ¨¡å—åŒ–ç»“æ„ - æ¯ä¸ªç³»ç»Ÿç‹¬ç«‹ï¼Œä¾¿äºæ‰©å±•
  2. æ•°æ®é©±åŠ¨ - æ•Œäººã€æŠ€èƒ½ã€æ‰è½ç‰©å¯é€šè¿‡é…ç½®è½»æ¾æ·»åŠ 
  3. ç”¨æˆ·ä½“éªŒä¼˜å…ˆ - ç•Œé¢æ¸…æ™°ï¼Œæ“ä½œæµç•…
  4. æ‰©å±•æ€§å¼º - ä¸ºæœªæ¥åŠŸèƒ½é¢„ç•™æ¥å£